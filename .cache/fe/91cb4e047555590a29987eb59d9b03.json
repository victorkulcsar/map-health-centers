{"id":"hkM/","dependencies":[{"name":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/package.json","includedInParent":true,"mtime":1599506348279},{"name":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/package.json","includedInParent":true,"mtime":1597614166508},{"name":"./Layer.js","loc":{"line":17,"column":32},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/Layer.js"},{"name":"../../TileRange.js","loc":{"line":18,"column":22},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/TileRange.js"},{"name":"../../TileState.js","loc":{"line":19,"column":22},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/TileState.js"},{"name":"../../transform.js","loc":{"line":20,"column":83},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/transform.js"},{"name":"../../obj.js","loc":{"line":21,"column":23},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/obj.js"},{"name":"../../extent.js","loc":{"line":22,"column":66},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/extent.js"},{"name":"../../render/canvas.js","loc":{"line":23,"column":38},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/render/canvas.js"},{"name":"../../proj.js","loc":{"line":24,"column":31},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/proj.js"},{"name":"../../util.js","loc":{"line":25,"column":23},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/util.js"},{"name":"../../array.js","loc":{"line":26,"column":42},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/renderer/canvas/TileLayer.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/array.js"}],"generated":{"js":"var $hkM$exports={};$parcel$require(\"hkM/\",\"./Layer.js\"),$parcel$require(\"hkM/\",\"../../TileRange.js\"),$parcel$require(\"hkM/\",\"../../TileState.js\"),$parcel$require(\"hkM/\",\"../../transform.js\"),$parcel$require(\"hkM/\",\"../../obj.js\"),$parcel$require(\"hkM/\",\"../../extent.js\"),$parcel$require(\"hkM/\",\"../../render/canvas.js\"),$parcel$require(\"hkM/\",\"../../proj.js\"),$parcel$require(\"hkM/\",\"../../util.js\"),$parcel$require(\"hkM/\",\"../../array.js\");var $hkM$var$__extends=$hkM$exports&&$hkM$exports.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$hkM$export$default=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=$hkM$import$createEmpty(),r.tmpTileRange_=new $hkM$import$TileRange(0,0,0,0),r}return $hkM$var$__extends(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),i=t.getUseInterimTilesOnError();return r==$hkM$import$TileState.LOADED||r==$hkM$import$TileState.EMPTY||r==$hkM$import$TileState.ERROR&&!i},t.prototype.getTile=function(e,t,r,i){var o=i.pixelRatio,n=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(e,t,r,o,n);return s.getState()==$hkM$import$TileState.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState($hkM$import$TileState.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},t.prototype.loadedTileCallback=function(t,r,i){return!!this.isDrawableTile(i)&&e.prototype.loadedTileCallback.call(this,t,r,i)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],i=e.viewState,o=i.projection,n=i.resolution,a=i.center,s=i.rotation,l=e.pixelRatio,h=this.getLayer(),p=h.getSource(),$=p.getRevision(),d=p.getTileGridForProjection(o),u=d.getZForResolution(n,p.zDirection),c=d.getResolution(u),g=e.extent,m=r.extent&&$hkM$import$fromUserExtent(r.extent,o);m&&(g=$hkM$import$getIntersection(g,$hkM$import$fromUserExtent(r.extent,o)));var T=p.getTilePixelRatio(l),f=Math.round(e.size[0]*T),v=Math.round(e.size[1]*T);if(s){var x=Math.round(Math.sqrt(f*f+v*v));f=x,v=x}var M=c*f/2/T,k=c*v/2/T,y=[a[0]-M,a[1]-k,a[0]+M,a[1]+k],R=d.getTileRangeForExtentAndZ(g,u),C={};C[u]={};var S=this.createLoadedTileFinder(p,o,C),w=this.tmpExtent,E=this.tmpTileRange_;this.newTiles_=!1;for(var _=R.minX;_<=R.maxX;++_)for(var j=R.minY;j<=R.maxY;++j){var P=this.getTile(u,_,j,e);if(this.isDrawableTile(P)){var b=$hkM$import$getUid(this);if(P.getState()==$hkM$import$TileState.LOADED){C[u][P.tileCoord.toString()]=P;var O=P.inTransition(b);this.newTiles_||!O&&-1!==this.renderedTiles.indexOf(P)||(this.newTiles_=!0)}if(1===P.getAlpha(b,e.time))continue}var q=d.getTileCoordChildTileRange(P.tileCoord,E,w),I=!1;q&&(I=S(u+1,q)),I||d.forEachTileCoordParentTileRange(P.tileCoord,S,E,w)}var A=c/n;$hkM$import$composeTransform(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/T,1/T,s,-f/2,-v/2);var L=$hkM$import$createTransformString(this.pixelTransform);this.useContainer(t,L,r.opacity);var U=this.context,D=U.canvas;$hkM$import$makeInverse(this.inversePixelTransform,this.pixelTransform),$hkM$import$composeTransform(this.tempTransform,f/2,v/2,A,A,0,-f/2,-v/2),D.width!=f||D.height!=v?(D.width=f,D.height=v):this.containerReused||U.clearRect(0,0,f,v),m&&this.clipUnrotated(U,e,m),$hkM$import$assign(U,p.getContextOptions()),this.preRender(U,e),this.renderedTiles.length=0;var F,z,Y,Z=Object.keys(C).map(Number);Z.sort($hkM$import$numberSafeCompareFunction),1!==r.opacity||this.containerReused&&!p.getOpaque(e.viewState.projection)?(F=[],z=[]):Z=Z.reverse();for(var K=Z.length-1;K>=0;--K){var X=Z[K],G=p.getTilePixelSize(X,l,o),Q=d.getResolution(X)/c,N=G[0]*Q*A,B=G[1]*Q*A,H=d.getTileCoordForCoordAndZ($hkM$import$getTopLeft(y),X),J=d.getTileCoordExtent(H),V=$hkM$import$applyTransform(this.tempTransform,[T*(J[0]-y[0])/c,T*(y[3]-J[3])/c]),W=T*p.getGutterForProjection(o),ee=C[X];for(var te in ee){var re=(P=ee[te]).tileCoord,ie=V[0]-(H[1]-re[1])*N,oe=Math.round(ie+N),ne=V[1]-(H[2]-re[2])*B,ae=Math.round(ne+B),se=oe-(_=Math.round(ie)),le=ae-(j=Math.round(ne)),he=u===X;if(!(O=he&&1!==P.getAlpha($hkM$import$getUid(this),e.time)))if(F){U.save(),Y=[_,j,_+se,j,_+se,j+le,_,j+le];for(var pe=0,$e=F.length;pe<$e;++pe)if(u!==X&&X<z[pe]){var de=F[pe];U.beginPath(),U.moveTo(Y[0],Y[1]),U.lineTo(Y[2],Y[3]),U.lineTo(Y[4],Y[5]),U.lineTo(Y[6],Y[7]),U.moveTo(de[6],de[7]),U.lineTo(de[4],de[5]),U.lineTo(de[2],de[3]),U.lineTo(de[0],de[1]),U.clip()}F.push(Y),z.push(X)}else U.clearRect(_,j,se,le);this.drawTileImage(P,e,_,j,se,le,W,he,r.opacity),F&&!O&&U.restore(),this.renderedTiles.push(P),this.updateUsedTiles(e.usedTiles,p,P)}}return this.renderedRevision=$,this.renderedResolution=c,this.extentChanged=!this.renderedExtent_||!$hkM$import$equals(this.renderedExtent_,y),this.renderedExtent_=y,this.renderedPixelRatio=l,this.renderedProjection=o,this.manageTilePyramid(e,p,d,l,o,g,u,h.getPreload()),this.scheduleExpireCache(e,p),this.postRender(U,e),r.extent&&U.restore(),L!==D.style.transform&&(D.style.transform=L),this.container},t.prototype.drawTileImage=function(e,t,r,i,o,n,a,s,l){var h=this.getTileImage(e);if(h){var p=$hkM$import$getUid(this),$=s?e.getAlpha(p,t.time):1,d=l*$,u=d!==this.context.globalAlpha;u&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(h,a,a,h.width-2*a,h.height-2*a,r,i,o,n),u&&this.context.restore(),1!==$?t.animate=!0:s&&e.endTransition(p)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var i=$hkM$import$getUid(e);i in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[i])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var i=$hkM$import$getUid(t);i in e||(e[i]={}),e[i][r.getKey()]=!0},t.prototype.manageTilePyramid=function(e,t,r,i,o,n,a,s,l){var h=$hkM$import$getUid(t);h in e.wantedTiles||(e.wantedTiles[h]={});var p,$,d,u,c,g,m=e.wantedTiles[h],T=e.tileQueue,f=0;for(g=r.getMinZoom();g<=a;++g)for($=r.getTileRangeForExtentAndZ(n,g,$),d=r.getResolution(g),u=$.minX;u<=$.maxX;++u)for(c=$.minY;c<=$.maxY;++c)a-g<=s?(++f,(p=t.getTile(g,u,c,i,o)).getState()==$hkM$import$TileState.IDLE&&(m[p.getKey()]=!0,T.isKeyQueued(p.getKey())||T.enqueue([p,h,r.getTileCoordCenter(p.tileCoord),d])),void 0!==l&&l(p)):t.useTile(g,u,c,o);t.updateCacheSize(f,o)},t}($hkM$import$CanvasLayerRenderer);$hkM$export$default.prototype.getLayer,$hkM$exports.default=$hkM$export$default;"},"sourceMaps":null,"error":null,"hash":"e9107e8757edc4db5b582135b517f243","cacheData":{"env":{},"imports":{"$hkM$import$CanvasLayerRenderer":["./Layer.js","default"],"$hkM$import$TileRange":["../../TileRange.js","default"],"$hkM$import$TileState":["../../TileState.js","default"],"$hkM$import$applyTransform":["../../transform.js","apply"],"$hkM$import$composeTransform":["../../transform.js","compose"],"$hkM$import$makeInverse":["../../transform.js","makeInverse"],"$hkM$import$assign":["../../obj.js","assign"],"$hkM$import$createEmpty":["../../extent.js","createEmpty"],"$hkM$import$equals":["../../extent.js","equals"],"$hkM$import$getIntersection":["../../extent.js","getIntersection"],"$hkM$import$getTopLeft":["../../extent.js","getTopLeft"],"$hkM$import$createTransformString":["../../render/canvas.js","createTransformString"],"$hkM$import$fromUserExtent":["../../proj.js","fromUserExtent"],"$hkM$import$getUid":["../../util.js","getUid"],"$hkM$import$numberSafeCompareFunction":["../../array.js","numberSafeCompareFunction"]},"exports":{"default":"$hkM$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}