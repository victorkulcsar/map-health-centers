{"id":"WlOd","dependencies":[{"name":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/package.json","includedInParent":true,"mtime":1597622134852},{"name":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/package.json","includedInParent":true,"mtime":1597614166508},{"name":"./common.js","loc":{"line":17,"column":32},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/common.js"},{"name":"../events/EventType.js","loc":{"line":18,"column":22},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/events/EventType.js"},{"name":"../Tile.js","loc":{"line":19,"column":17},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/Tile.js"},{"name":"../TileState.js","loc":{"line":20,"column":22},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/TileState.js"},{"name":"./Triangulation.js","loc":{"line":21,"column":26},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Triangulation.js"},{"name":"../reproj.js","loc":{"line":22,"column":78},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj.js"},{"name":"../math.js","loc":{"line":23,"column":22},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/math.js"},{"name":"../extent.js","loc":{"line":24,"column":41},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/extent.js"},{"name":"../events.js","loc":{"line":25,"column":38},"parent":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/reproj/Tile.js","resolved":"/home/telefonica/Documentos/maps_lau/healthy_places/simple_map/node_modules/ol/events.js"}],"generated":{"js":"var $WlOd$exports={};$parcel$require(\"WlOd\",\"./common.js\"),$parcel$require(\"WlOd\",\"../events/EventType.js\"),$parcel$require(\"WlOd\",\"../Tile.js\"),$parcel$require(\"WlOd\",\"../TileState.js\"),$parcel$require(\"WlOd\",\"./Triangulation.js\"),$parcel$require(\"WlOd\",\"../reproj.js\"),$parcel$require(\"WlOd\",\"../math.js\"),$parcel$require(\"WlOd\",\"../extent.js\"),$parcel$require(\"WlOd\",\"../events.js\");var $WlOd$var$__extends=$WlOd$exports&&$WlOd$exports.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$WlOd$export$default=function(t){function e(e,r,i,o,l,s,$,n,a,d,p,u){var c=t.call(this,l,$WlOd$import$TileState.IDLE)||this;c.renderEdges_=void 0!==p&&p,c.contextOptions_=u,c.pixelRatio_=$,c.gutter_=n,c.canvas_=null,c.sourceTileGrid_=r,c.targetTileGrid_=o,c.wrappedTileCoord_=s||l,c.sourceTiles_=[],c.sourcesListenerKeys_=null,c.sourceZ_=0;var _=o.getTileCoordExtent(c.wrappedTileCoord_),O=c.targetTileGrid_.getExtent(),T=c.sourceTileGrid_.getExtent(),h=O?$WlOd$import$getIntersection(_,O):_;if(0===$WlOd$import$getArea(h))return c.state=$WlOd$import$TileState.EMPTY,c;var g=e.getExtent();g&&(T=T?$WlOd$import$getIntersection(T,g):g);var W=o.getResolution(c.wrappedTileCoord_[0]),m=$WlOd$import$calculateSourceExtentResolution(e,i,h,W);if(!isFinite(m)||m<=0)return c.state=$WlOd$import$TileState.EMPTY,c;var f=void 0!==d?d:$WlOd$import$ERROR_THRESHOLD;if(c.triangulation_=new $WlOd$import$Triangulation(e,i,h,T,m*f,W),0===c.triangulation_.getTriangles().length)return c.state=$WlOd$import$TileState.EMPTY,c;c.sourceZ_=r.getZForResolution(m);var E=c.triangulation_.calculateSourceExtent();if(T&&(e.canWrapX()?(E[1]=$WlOd$import$clamp(E[1],T[1],T[3]),E[3]=$WlOd$import$clamp(E[3],T[1],T[3])):E=$WlOd$import$getIntersection(E,T)),$WlOd$import$getArea(E)){for(var v=r.getTileRangeForExtentAndZ(E,c.sourceZ_),S=v.minX;S<=v.maxX;S++)for(var x=v.minY;x<=v.maxY;x++){var y=a(c.sourceZ_,S,x,$);y&&c.sourceTiles_.push(y)}0===c.sourceTiles_.length&&(c.state=$WlOd$import$TileState.EMPTY)}else c.state=$WlOd$import$TileState.EMPTY;return c}return $WlOd$var$__extends(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,r,i){e&&e.getState()==$WlOd$import$TileState.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=$WlOd$import$TileState.ERROR;else{var e=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(e),i=\"number\"==typeof r?r:r[0],o=\"number\"==typeof r?r:r[1],l=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),$=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=$WlOd$import$renderReprojected(i,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),l,$,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=$WlOd$import$TileState.LOADED}this.changed()},e.prototype.load=function(){if(this.state==$WlOd$import$TileState.IDLE){this.state=$WlOd$import$TileState.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,r,i){var o=e.getState();if(o==$WlOd$import$TileState.IDLE||o==$WlOd$import$TileState.LOADING){t++;var l=$WlOd$import$listen(e,$WlOd$import$EventType.CHANGE,function(r){var i=e.getState();i!=$WlOd$import$TileState.LOADED&&i!=$WlOd$import$TileState.ERROR&&i!=$WlOd$import$TileState.EMPTY||($WlOd$import$unlistenByKey(l),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(l)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,r){t.getState()==$WlOd$import$TileState.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach($WlOd$import$unlistenByKey),this.sourcesListenerKeys_=null},e}($WlOd$import$Tile);$WlOd$exports.default=$WlOd$export$default;"},"sourceMaps":null,"error":null,"hash":"0a710520d3b61b8512f2add051a1f89c","cacheData":{"env":{},"imports":{"$WlOd$import$ERROR_THRESHOLD":["./common.js","ERROR_THRESHOLD"],"$WlOd$import$EventType":["../events/EventType.js","default"],"$WlOd$import$Tile":["../Tile.js","default"],"$WlOd$import$TileState":["../TileState.js","default"],"$WlOd$import$Triangulation":["./Triangulation.js","default"],"$WlOd$import$calculateSourceExtentResolution":["../reproj.js","calculateSourceExtentResolution"],"$WlOd$import$renderReprojected":["../reproj.js","render"],"$WlOd$import$clamp":["../math.js","clamp"],"$WlOd$import$getArea":["../extent.js","getArea"],"$WlOd$import$getIntersection":["../extent.js","getIntersection"],"$WlOd$import$listen":["../events.js","listen"],"$WlOd$import$unlistenByKey":["../events.js","unlistenByKey"]},"exports":{"default":"$WlOd$export$default"},"wildcards":[],"sideEffects":false,"isCommonJS":true,"isES6Module":true}}